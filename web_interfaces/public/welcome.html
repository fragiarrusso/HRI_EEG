<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="welcomePage">
    <button id="arrowButton">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M20 11H7.83l5.59-5.59-1.41-1.41L3.83 12l8.18 8.18 1.41-1.41L7.83 13H20z"/>
        </svg>
    </button>
    <h1 id="welcomeMessage"></h1>
    <!-- Contenitore per i pulsanti -->
    <div class="button-container">
        <button id="leftButton">Esercizi</button>
        <button id="rightButton">Vai al Gioco</button>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        const exists = urlParams.get('exists') === 'true';

       // Set welcome message
        const welcomeMessage = document.getElementById('welcomeMessage');
        if (exists) {
            welcomeMessage.textContent = `Bentornato, ${name}. Cosa vorresti fare?`;
        } else {
            welcomeMessage.textContent = `Benvenuto, ${name}. Cosa vorresti fare?`;
        } 

        // Left button action
        document.getElementById('leftButton').addEventListener('click', () => {
            fetch('/api/left-button', {
                method: 'POST',
            })
                .then((response) => response.json())
                .then((data) => {
                    console.log(data.message);
                })
                .catch((error) => console.error('Error:', error));
        });

        // Right button action: Redirect to the game
        document.getElementById('rightButton').addEventListener('click', () => {
            window.location.href = '/gameIntroduction.html';
        });
                // Back button action: Go back to the previous page
        document.getElementById('arrowButton').addEventListener('click', () => {
            window.location.href = '/index.html';
        });
    </script>
</body>
</html>
